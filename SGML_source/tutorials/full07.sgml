@SG_ML_COMMENT This SGML documentation file is automatically generated by _ocu_mentation, the 05524F internal documentation generation app.
@SG_ML_PAGENAME Full Tutorial Part 7
@SG_ML_TITLE Full Tutorial Part 7
@SG_ML_BLANKLINE
&#9;See @SG_ML_L004006herefull06 for the previous part of the tutorial.
&#9;In the previous part, we wrote behaviours for the options page buttons controlling background mode.
@SG_ML_BLANKLINE
@SG_ML_HEADER_ writing options page behaviour (part 2)
&#9;Next, we will write the behaviour for the "H", "S", and "L" under the "complementary" background colour mode. These simply need to tiggle when clicked. We can write 3 functions for the 3 buttons.
&#9;However, there is actually a simpler way. @SG_ML_L018015SGWidget ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/sgwidget UI elements that are interactive always have 4 versions for every @SG_ML_L021015callback function ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/callback. 1 takes nothing as argument, which is what we have been using so far (@SG_ML_L018032SGWButton::clickFunction../cppclass/sgwbutton#void_ptr_clickFunction_func_). The other 3 takes a int (@SG_ML_L01F038SGWButton::clickFunctionWithInt../cppclass/sgwbutton#void_ptr_clickFunctionWithInt_int_), a @SG_ML_L009015SGXString../cppclass/sgxstring (@SG_ML_L02204BSGWButton::clickFunctionWithString../cppclass/sgwbutton#void_ptr_clickFunctionWithString_const_SGXString_ref_), and a pointer to the UI element (@SG_ML_L023046SGWButton::clickFunctionWithPointer../cppclass/sgwbutton#void_ptr_clickFunctionWithPointer_SGWButton_ptr_) respectively.
&#9;We can write a single function taking a pointer and simply toggles the selection state of whatever @SG_ML_L009015SGWButton../cppclass/sgwbutton that the pointer points to.
&#9;
&#9;First declare the function inside SGCLPOptionsPage
@SG_ML_WARN static void backgroundComplementaryChannelToggle(SGWButton* x);
&#9;then implement it
@SG_ML_WARN void SGCLPOptionsPage::backgroundComplementaryChannelToggle(SGWButton *x){&#10;    if((*x).getSelected() == true){(*x).setSelected(false);}&#10;    else{(*x).setSelected(true);}&#10;}
&#9;actually make the buttons use it when creating the buttons in SGCLPOptionsPage::initialise
@SG_ML_WARN SGCLPOptionsPage::backgroundComplementaryHueButton = new SGWTextButton(bg, "H", nullptr, 0.5f, 0.0f, 0.0f, 8.5f, 1.0f / 6.0f, -1.0f / 6.0f, 0.0f, 1.0f);&#10;(*SGCLPOptionsPage::backgroundComplementaryHueButton).clickFunctionWithPointer = &SGCLPOptionsPage::backgroundComplementaryChannelToggle;&#10;SGCLPOptionsPage::backgroundComplementarySaturationButton = new SGWTextButton(bg, "S", nullptr, 2.0f / 3.0f, -1.0f / 6.0f, 0.0f, 8.5f, 1.0f / 6.0f, -1.0f / 6.0f, 0.0f, 1.0f);&#10;(*SGCLPOptionsPage::backgroundComplementarySaturationButton).clickFunctionWithPointer = &SGCLPOptionsPage::backgroundComplementaryChannelToggle;&#10;SGCLPOptionsPage::backgroundComplementaryLightnessButton = new SGWTextButton(bg, "L", nullptr, 5.0f / 6.0f, -1.0f / 3.0f, 0.0f, 8.5f, 1.0f / 6.0f, -1.0f / 6.0f, 0.0f, 1.0f);&#10;(*SGCLPOptionsPage::backgroundComplementaryLightnessButton).clickFunctionWithPointer = &SGCLPOptionsPage::backgroundComplementaryChannelToggle;
&#9;and set up reasonable default choices in SGCLPOptionsPage::reset
@SG_ML_WARN (*SGCLPOptionsPage::backgroundComplementaryHueButton).setSelected(false);&#10;(*SGCLPOptionsPage::backgroundComplementarySaturationButton).setSelected(false);&#10;(*SGCLPOptionsPage::backgroundComplementaryLightnessButton).setSelected(true);
&#9;Testing the code confirms that it works.
@SG_ML_BLANKLINE
&#9;See @SG_ML_L004006herefull08 for the next part of the tutorial.
&#9;
