@SG_ML_COMMENT This SGML documentation file is automatically generated by _ocu_mentation, the 05524F internal documentation generation app.
@SG_ML_PAGENAME Full Tutorial Part 3
@SG_ML_TITLE Full Tutorial Part 3
@SG_ML_BLANKLINE
&#9;See @SG_ML_L004006herefull02 for the previous part of the tutorial.
&#9;In the previous part, we wrote main.cpp and made the app show a window
@SG_ML_BLANKLINE
@SG_ML_HEADER_ setting up basic GUI
&#9;GUI? a what now?
&#9;GUI means graphical user interface, which literally means "something that the user can see (graphical) and use to interact (interface) with the application". In other words, the app shows a window instead of running inside cmd or in the background.
@SG_ML_BLANKLINE
&#9;We first plan what our UI should look like. This page should explain to the user what the application is about and provide a button to go to the next page.
&#9;Having an almost full screen, scrollable, textbox explaining what the app is about seems like a good idea. Then we can have a full width button on the bottom which goes to the next page.
&#9;But wait... we are now using the @SG_ML_L018015SGWidget ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/sgwidget system, and also its subsystems @SG_ML_L01A016w-distance ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/wdistance and @SG_ML_L01C018theme colour ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/themecolour. You must read through their tutorials first.
@SG_ML_BLANKLINE
&#9;Now that you have read through the tutorial, we can write the UI.
&#9;Before we start writing anything, we should first write a static functions class where all the functions concerning the first page will go to. This helps us organise our code better and essentially act as a namespace.
&#9;Before that, we will create files for it. We can let the app have prefix SGCLP (CoLoursPlusplus) and name our class SGCLPIntroductionPage. We create the header file include/SGCLPIntroductionPage.h and the source file src/SGCLPIntroductionPage.cpp using the Qt Creator file creation UI.
&#9;Now src/SGCLPIntroductionPage.cpp should be empty and include/SGCLPIntroductionPage.h should have the include guards set up automatically.
@SG_ML_WARN #ifndef SGCLPINTRODUCTIONPAGE_H&#10;#define SGCLPINTRODUCTIONPAGE_H&#10;&#10;#endif // SGCLPINTRODUCTIONPAGE_H
&#9;We can write the implementation of our class. A @SG_ML_L021015callback function ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/callback returning a @SG_ML_L00D019SGWBackground../cppclass/sgwbackground to pass to @SG_ML_L01506CSGWBackground::enable../cppclass/sgwbackground#static_void_enable_SGWBackground_ptr_ref_SGWBackground_ptr_ptr_func_void_ptr_func_ and a @SG_ML_L00D019SGWBackground../cppclass/sgwbackground* storing a pointer to the actual background are definitely necessary, so we will have that.
@SG_ML_WARN class SGWBackground;&#10;class SGCLPIntroductionPage {&#10;public:&#10;    static SGWBackground* instance;&#10;    static SGWBackground* initialise();&#10;};
&#9;Note that the @SG_ML_L00D019SGWBackground../cppclass/sgwbackground class is forward declared because SGCLPIntroductionPage does not need its memory layout. Forward declaring classes in header files wherever possible is good as it speeds up clang-tidy checks and avoids circular dependencies.
&#9;We also can write the basic layout of src/SGCLPIntroductionPage.cpp
@SG_ML_WARN #include &lt;SGCLPIntroductionPage.h&gt;&#10;#include &lt;SGWBackground.h&gt;&#10;&#10;SGWBackground* SGCLPIntroductionPage::instance = nullptr;&#10;&#10;SGWBackground* SGCLPIntroductionPage::initialise(){&#10;&#10;}
&#9;Note that the line
@SG_ML_WARN SGWBackground* SGCLPIntroductionPage::instance = nullptr;
&#9;is necessary as it allocates memory for and initialises the static variable SGCLPIntroductionPage::instance.
@SG_ML_BLANKLINE
&#9;We then proceed to implement SGCLPIntroductionPage::initialise.
&#9;Inside the function, first we write a message for the user explaining what the application is about. We will use a @SG_ML_L009015SGXString../cppclass/sgxstring which is a Unicode compatible string with language aware features designed to replace QString.
@SG_ML_WARN SGXString message = "This is ColoursPlusPlus, kind of demo app for SGEXTN that we will be building in this tutorial. The app will showcase various SGEXTN features including the SGWidget and SG - RI systems used to implement interactive and customisable user interfaces.";
&#9;Just like QString or std::string, the + and += operators work for string concatenation.
@SG_ML_WARN message += " ";&#10;message += SGXChar(0x0378);
&#9;Note that code point 0x0378 in SingScript.sg is the SG mark, the unofficial logo of Singapore. This does not work in any other font.
@SG_ML_BLANKLINE
&#9;Since the page will also have a button at the bottom, we can have a @SG_ML_L01101DSGWPageBackground../cppclass/sgwpagebackground as the background, which would have a @SG_ML_L00C018SGWLongLabel../cppclass/sgwlonglabel and a @SG_ML_L00D019SGWTextButton../cppclass/sgwtextbutton as children. The @SG_ML_L00C018SGWLongLabel../cppclass/sgwlonglabel can be used to display the message and the @SG_ML_L00D019SGWTextButton../cppclass/sgwtextbutton will send the user to the next page when used.
&#9;For more information about each UI element, see their documentation as linked above.
@SG_ML_WARN SGWPageBackground* bg = new SGWPageBackground(SGWWidget::parentWidget, 0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f, 1.0f, 0.0f, 8);&#10;new SGWLongLabel(bg, message, 0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f, 1.0f, -1.0f, 0.0f, 1.0f, 0.0f, 0.5f, 0.0f, 0.5f);&#10;new SGWTextButton(bg, "continue", nullptr, 0.0f, 0.0f, 1.0f, -1.0f, 1.0f, 0.0f, 0.0f, 1.0f);
&#9;All the numbers you see in the code are just @SG_ML_L01A016w-distance ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/wdistance describing the layout of each UI element.
&#9;Since we have not written the function yet, we can leave the @SG_ML_L021015callback function ⁽㈳㈴㈳㈮㈱㈨㈠㈫ ㈧㈤㈱㈤⁾../tutorials/callback of the @SG_ML_L00D019SGWTextButton../cppclass/sgwtextbutton to nullptr. This will not crash, the button will just do nothing.
&#9;Do not forget to return the pointer to the page background since the function must return a @SG_ML_L00D019SGWBackground../cppclass/sgwbackground*
@SG_ML_WARN return bg;
@SG_ML_BLANKLINE
&#9;If you have not done so already, add the preprocessor include directives at the top.
@SG_ML_WARN #include &lt;SGXString.h&gt;&#10;#include &lt;SGXChar.h&gt;&#10;#include &lt;SGWWidget.h&gt;&#10;#include &lt;SGWPageBackground.h&gt;&#10;#include &lt;SGWLongLabel.h&gt;&#10;#include &lt;SGWTextButton.h&gt;
@SG_ML_BLANKLINE
&#9;Right now your file should look like the code below. In the next part of the tutorial, we will be testing the UI page.
&#9;include/SGCLPIntroductionPage.h
@SG_ML_WARN #ifndef SGCLPINTRODUCTIONPAGE_H&#10;#define SGCLPINTRODUCTIONPAGE_H&#10;&#10;class SGWBackground;&#10;class SGCLPIntroductionPage {&#10;public:&#10;    static SGWBackground* instance;&#10;    static SGWBackground* initialise();&#10;};&#10;&#10;#endif // SGCLPINTRODUCTIONPAGE_H
&#9;src/SGCLPIntroductionPage.cpp
@SG_ML_WARN #include &lt;SGCLPIntroductionPage.h&gt;&#10;#include &lt;SGWBackground.h&gt;&#10;#include &lt;SGXString.h&gt;&#10;#include &lt;SGXChar.h&gt;&#10;#include &lt;SGWWidget.h&gt;&#10;#include &lt;SGWPageBackground.h&gt;&#10;#include &lt;SGWLongLabel.h&gt;&#10;#include &lt;SGWTextButton.h&gt;&#10;&#10;SGWBackground* SGCLPIntroductionPage::instance = nullptr;&#10;&#10;SGWBackground* SGCLPIntroductionPage::initialise(){&#10;    SGXString message = "This is ColoursPlusPlus, kind of demo app for SGEXTN that we will be building in this tutorial. The app will showcase various SGEXTN features including the SGWidget and SG - RI systems used to implement interactive and customisable user interfaces.";&#10;    message += " ";&#10;    message += SGXChar(0x0378);&#10;    SGWPageBackground* bg = new SGWPageBackground(SGWWidget::parentWidget, 0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f, 1.0f, 0.0f, 8);&#10;    new SGWLongLabel(bg, message, 0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f, 1.0f, -1.0f, 0.0f, 1.0f, 0.0f, 0.5f, 0.0f, 0.5f);&#10;    new SGWTextButton(bg, "continue", nullptr, 0.0f, 0.0f, 1.0f, -1.0f, 1.0f, 0.0f, 0.0f, 1.0f);&#10;    return bg;&#10;}
@SG_ML_BLANKLINE
&#9;See @SG_ML_L004006herefull04 for the next part of the tutorial.
&#9;
